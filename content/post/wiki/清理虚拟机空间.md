---
title: "清理虚拟机空间"
date: 2020-06-17T08:35:15+08:00
tags: 
- wiki
- vmware
categories:
- wiki
- vmware
---

# 清理虚拟机的空间

vmware下的虚拟机长时间使用后会变大，可以清理不用的空间，减少磁盘占用，便于复制。

当前使用的虚拟机为manjaro linux。

## 清理步骤

1. 清理不用的文件
   * `pacman -Sc` 清理未安装软件包的缓存
   * `pacman -Scc` 清理所有缓存
   * `sudo pacman -R $(pacman -Qdtq)` 清理无用的软件包
2. `dd if=/dev/zero of=filename` 用内容为二进制0的文件（一个或多个文件）填充所有磁盘空间，最后删除这个文件。
3. `sudo vmware-toolbox-cmd disk list`查看挂载点，执行`sudo vmware-toolbox-cmd disk shrink / `压缩磁盘