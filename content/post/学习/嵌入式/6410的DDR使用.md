---
title: 6410的DDR使用
toc: true
date: 2014-07-26 22:03:48
tags:
- tiny6410
categories:
- 学习
- 嵌入式
---

6410使用DRAM控制器对DDR进行操作。在程序开始时要根据DDR的参数设置DRAM控制器。
（DDR SDRAM：Double Rate Synchronous Dynamic Random Access Memory双倍速率传输，在时钟的上升沿和下降沿均可传输数据）
tiny6410使用两片16位的DDR组成32位的内存。

*初始化内容* ：

1. 地址线设置
2. 位宽
3. 设置时序

## DRAM控制器初始化顺序 ##


1. 以‘3’b100’执行memc_cmd，使得DRAM 控制器输入‘配置’状态。
2. 写存储器时间参数，芯片配置和ID 配置寄存器。
3. 等待200μs 来使SDRAM 电源和时钟稳定。当CPU 开始工作时，电源和时钟已经被稳定下来。
4. 执行存储器初始化顺序。
5. 以‘3’b000’执行memc_cmd，使得DRAM 控制器输入‘准备’状态。
6. 在memc_stat 中检查存储器状态域，直到存储器状态变为‘2’b01’，即‘准备’

## DDR/移动DDR SDRAM初始化顺序 ##


1. 在direct_cmLatency
