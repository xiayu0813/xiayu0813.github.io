---
title: GUNARM汇编语言学习问题及方法
toc: true
date: 2014-07-26 22:03:48
tags:
- tiny6410
categories:
- 学习
- 嵌入式
---

在学习GUN-ARM的裸机程序过程中存在一些问题，发现了一些之前没有注意的知识点

* 算术、逻辑运算指令可选择使用S后缀以影响状态标志位，尤其在使用逻辑运算AND，ORR中，后面要执行判断跳转指令时，必须添加S后缀。（uart.S中的问题）
* 关于ATPCS规则，在编写汇编代码时也要遵守，形成一定的代码风格。在程序中使用v1-v6名称，不使用r0-r13的名称（编译器已纪支持这种写法）,a1-a4作为函数调用的参数传递。
* 在函数的调用中，使用栈来保存数据。这样可以实现程序的嵌套，b XXX; mov pc, lr的调用、返回形式在调用极短的子函数并确定不会有函数的嵌套调用时才能使用！

